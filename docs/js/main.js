webpackJsonp([2],{0:function(t,e,i){var a,n,s;!function(r,o){n=[i(14),i(52),i(159),i(80)],a=o,s="function"==typeof a?a.apply(e,n):a,!(void 0!==s&&(t.exports=s))}(this,function(t,e,a,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}var r=s(t),o=s(e),d=s(a),l=s(n);r.default.use(o.default),r.default.use(l.default),r.default.config.debug=!0;var c=new o.default;c.map({"/taskList":{component:function(t){i.e(1,function(e){var i=[e(160)];t.apply(null,i)}.bind(this))}}}),c.beforeEach(function(){window.scrollTo(0,0)}),c.afterEach(function(t){}),c.redirect({"*":"/taskList"}),c.start(d.default,"#app")})},29:function(t,e,i){var a,n,s;!function(r,o){n=[e,i(14)],a=o,s="function"==typeof a?a.apply(e,n):a,!(void 0!==s&&(t.exports=s))}(this,function(e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=a(i),s=new n.default;e.default=s,t.exports=e.default})},72:function(t,e,i){var a,n,s,n,s;!function(r,o){n=[t,e,i(31)],a=o,s="function"==typeof a?a.apply(e,n):a,!(void 0!==s&&(t.exports=s))}(this,function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var r=a(i);!function(){var i={};i.install=function(t){t.directive("drag-and-drop",{params:["drag-and-drop","drag-start","drag","drag-over","drag-enter","drag-leave","drag-end","drop","draggable","droppable"],bind:function(){this.vm._dragSrcEl=null,void 0===this.params.draggable&&(this.params.draggable=!0),void 0===this.params.droppable&&(this.params.droppable=!0);var t={true:!0,false:!1},e=t[this.params.draggable],i=t[this.params.droppable],a=function(){};this.handleDragStart=function(t){t.target.classList.add("dragging"),this.vm._dragSrcEl=t.target,t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text","*"),"function"==typeof this.vm[this.params.dragStart]&&this.vm[this.params.dragStart].call(this,t.target,t)}.bind(this),this.handleDragOver=function(t){return t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="move",t.target.classList.add("drag-over"),"function"==typeof this.vm[this.params.dragOver]&&this.vm[this.params.dragOver].call(this,t.target,t),!1}.bind(this),this.handleDragEnter=function(t){"function"==typeof this.vm[this.params.dragEnter]&&this.vm[this.params.dragEnter].call(this,t.target,t),t.target.classList.add("drag-enter")}.bind(this),this.handleDragLeave=function(t){"function"==typeof this.vm[this.params.dragLeave]&&this.vm[this.params.dragLeave].call(this,t.target,t),t.target.classList.remove("drag-enter")}.bind(this),this.handleDrag=function(t){"function"==typeof this.vm[this.params.drag]&&this.vm[this.params.drag].call(this,t.target,t)}.bind(this),this.handleDragEnd=function(t){t.target.classList.remove("dragging","drag-over","drag-enter"),"function"==typeof this.vm[this.params.dragEnd]&&this.vm[this.params.dragEnd].call(this,t.target,t)}.bind(this),this.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation&&t.stopPropagation(),this.vm._dragSrcEl!=t.target&&"function"==typeof this.vm[this.params.drop]){var i=t.target.draggable||e?t.target:t.target.parentElement;this.vm[this.params.drop].call(this,this.vm._dragSrcEl,i,t)}return!1}.bind(this),e||(this.handleDragStart=a,this.handleDragEnter=a,this.handleDrag=a,this.handleDragLeave=a,this.handleDragEnd=a),i||(this.handleDrop=a),e&&this.el.setAttribute("draggable","true"),this.el.addEventListener("dragstart",this.handleDragStart,!1),this.el.addEventListener("dragenter",this.handleDragEnter,!1),this.el.addEventListener("dragover",this.handleDragOver,!1),this.el.addEventListener("drag",this.handleDrag,!1),this.el.addEventListener("dragleave",this.handleDragLeave,!1),this.el.addEventListener("dragend",this.handleDragEnd,!1),this.el.addEventListener("drop",this.handleDrop,!1)},update:function(t,e){},unbind:function(){this.el.classList.remove("dragging","drag-over","drag-enter"),this.el.removeAttribute("draggable"),this.el.removeEventListener("dragstart",this.handleDragStart),this.el.removeEventListener("dragenter",this.handleDragEnter),this.el.removeEventListener("dragover",this.handleDragOver),this.el.removeEventListener("dragleave",this.handleDragLeave),this.el.removeEventListener("drag",this.handleDrag)}})},"object"==("undefined"==typeof e?"undefined":(0,r.default)(e))?t.exports=i:(n=[],s=function(){return i}.apply(e,n),!(void 0!==s&&(t.exports=s)))}()})},73:function(t,e,i){var a,n,s;!function(i,r){n=[e],a=r,s="function"==typeof a?a.apply(e,n):a,!(void 0!==s&&(t.exports=s))}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},ready:function(){},beforeDestroy:function(){},methods:{}},t.exports=e.default})},75:function(t,e,i){var a,n,s;!function(r,o){n=[e,i(29),i(79)],a=o,s="function"==typeof a?a.apply(e,n):a,!(void 0!==s&&(t.exports=s))}(this,function(e,i,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(i),r=n(a);e.default={name:"charge",props:{members:{},listItem:{},mainid:{}},directives:{clickoutside:r.default},data:function(){return{nickNameList:[],memberSelected:"",showItems:[],searchValue:"",searchListShow:!1}},ready:function(){this.showItems=this.members},methods:{changeOff:function(){this.searchListShow=!1,this.$els.drop.display="none"},dropdownShow:function(){this.searchListShow=!0;var t=0,e=0,i=this.$els.drop;i.style.display="block";var a=this.$els.showname,n=a.getBoundingClientRect().top,s=a.getBoundingClientRect().left,r=a.clientHeight,o=i.clientHeight,d=i.clientWidth;window.innerHeight?t=window.innerHeight:document.body&&document.body.clientHeight&&(t=document.body.clientHeight),window.innerWidth?e=window.innerWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),t-n-r<o&&n-30>o?i.style.top=n-o+"px":i.style.top=n+r+"px",e-s<d?i.style.left=e-d-18+"px":s<d?i.style.left="10px":i.style.left=s+"px"},selectThis:function(t){this.memberSelected=t.nickname,this.changeOff(),s.default.$emit("charge-change_"+this.mainid,this.listItem,t)}},watch:{searchValue:function(){if(this.members){for(var t=[],e=0;e<this.members.length;e++)this.members[e].nickname.indexOf(this.searchValue)===-1&&(this.members[e].mobile+"").indexOf(this.searchValue)===-1||t.push(this.members[e]);this.showItems=t}},searchListShow:function(){this.searchValue=""},members:function(){this.showItems=this.members}}},t.exports=e.default})},76:function(t,e,i){var a,n,s;!function(i,r){n=[e],a=r,s="function"==typeof a?a.apply(e,n):a,!(void 0!==s&&(t.exports=s))}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"checkBox",props:["isCheck"]},t.exports=e.default})},77:function(t,e,i){var a,n,s;!function(r,o){n=[e,i(14),i(29),i(162),i(161),i(72)],a=o,s="function"==typeof a?a.apply(e,n):a,!(void 0!==s&&(t.exports=s))}(this,function(e,i,a,n,s,r){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var d=o(i),l=o(a),c=o(n),u=o(s),f=o(r);d.default.use(f.default),e.default={name:"menu",components:{checkBox:c.default,charge:u.default},props:{task:{},members:{},selectItem:{},fatherId:{},islabel:{},mainid:{}},data:function(){return{preTitle:""}},computed:{tasks:function(){function t(e){for(var i=0;i<e.length;i++)e[i].children&&!e[i].isOpen&&(d.default.set(e[i],"isOpen",!1),t(e[i].children))}return t(this.task),this.task}},methods:{checkChange:function(t){l.default.$emit("check-change_"+this.mainid,t)},selectNewItem:function(t,e){l.default.$emit("select-item_"+this.mainid,t,e+"")},titleChange:function(t,e){t.task_name!==this.preTitle&&l.default.$emit("title-change_"+this.mainid,t,t.task_name,e)},handleDrop:function(t,e){this.loggedEvent="handleDrop",l.default.$emit("drag-change_"+this.mainid,t.id,e.id)},savePreTitle:function(t){this.preTitle=t},openThis:function(t){t.isOpen=!t.isOpen}},watch:{},filters:{totime:function(t){var e,i,a,n,s,r;return e=t-(new Date).getTime(),e>=0?(i=Math.floor(e/1e3/60/60/24),a=Math.floor(e/1e3/60/60%24),n=Math.floor(e/1e3/60%60),s=Math.floor(e/1e3%60),r=i+"天"+a+"小时"):(i=Math.ceil(e/1e3/60/60/24),a=Math.ceil(e/1e3/60/60%24),n=Math.ceil(e/1e3/60%60),s=Math.ceil(e/1e3%60),r="超期"+-i+"天"+-a+"小时"),r}}},t.exports=e.default})},78:function(t,e,i){var a,n,s;!function(r,o){n=[e,i(29),i(163)],a=o,s="function"==typeof a?a.apply(e,n):a,!(void 0!==s&&(t.exports=s))}(this,function(e,i,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(i),r=n(a);e.default={name:"taskList",components:{menu:r.default},props:{task:{},selectItem:{},members:{},selectId:{},islabel:{default:!1},mainid:{}},methods:{},ready:function(){var t=this;s.default.$on("select-item_"+t.mainid,function(e,i){t.$emit("select-item_"+t.mainid,t.task,e,i)}),s.default.$on("check-change_"+t.mainid,function(e){t.$emit("check-change_"+t.mainid,t.task,e)}),s.default.$on("title-change_"+t.mainid,function(e,i,a){t.$emit("title-change_"+t.mainid,t.task,e,i)}),s.default.$on("charge-change_"+t.mainid,function(e,i){t.$emit("charge-change_"+t.mainid,t.task,e,i)}),s.default.$on("drag-change_"+t.mainid,function(e,i){t.$emit("drag-change_"+t.mainid,t.task,e,i)})}},t.exports=e.default})},79:function(t,e,i){var a,n,s;!function(i,r){n=[e],a=r,s="function"==typeof a?a.apply(e,n):a,!(void 0!==s&&(t.exports=s))}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={bind:function(){var t=this,e=(new Date).getTime();this.documentHandler=function(i){return!t.el.contains(i.target)&&void(t.expression&&(new Date).getTime()-e>200&&(t.vm[t.expression](),e=Date.now()))},document.addEventListener("click",this.documentHandler)},update:function(){},unbind:function(){document.removeEventListener("click",this.documentHandler)}},t.exports=e.default})},80:function(t,e,i){var a,n,s;!function(r,o){n=[t,i(81),i(30),i(164)],a=o,s="function"==typeof a?a.apply(e,n):a,!(void 0!==s&&(t.exports=s))}(this,function(t,e,i,a){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=n(e),r=n(i),o=n(a),d={taskList:o.default},l=function(t){(0,r.default)(d).forEach(function(e){t.component(d[e].name||e,d[e])})};"undefined"!=typeof window&&window.Vue&&l(window.Vue),t.exports=(0,s.default)(d,{install:l}),Array.prototype.insert=function(t,e){this.splice(t,0,e)}})},81:function(t,e,i){t.exports={default:i(92),__esModule:!0}},92:function(t,e,i){i(130),t.exports=i(1).Object.assign},121:function(t,e,i){"use strict";var a=i(5),n=i(20),s=i(40),r=i(26),o=i(23),d=i(37),l=Object.assign;t.exports=!l||i(11)(function(){var t={},e={},i=Symbol(),a="abcdefghijklmnopqrst";return t[i]=7,a.split("").forEach(function(t){e[t]=t}),7!=l({},t)[i]||Object.keys(l({},e)).join("")!=a})?function(t,e){for(var i=o(t),l=arguments.length,c=1,u=s.f,f=r.f;l>c;)for(var h,p=d(arguments[c++]),m=u?n(p).concat(u(p)):n(p),v=m.length,g=0;v>g;)h=m[g++],a&&!f.call(p,h)||(i[h]=p[h]);return i}:l},130:function(t,e,i){var a=i(3);a(a.S+a.F,"Object",{assign:i(121)})},149:function(t,e){},150:function(t,e){},151:function(t,e){},152:function(t,e){},153:function(t,e){t.exports=" <div> <router-view></router-view> </div> "},155:function(t,e){t.exports=' <template v-for="(listInd,listItem) in tasks"> <div v-if="listItem.type==&quot;label1&quot;" class=label1 _v-0a8d4c56="">{{listItem.text}}</div> <div v-if="listItem.type==&quot;label2&quot;" class=label2 _v-0a8d4c56="">{{listItem.text}}</div> <div v-if="listItem.type==&quot;label3&quot;" class=label3 _v-0a8d4c56="">{{listItem.text}}</div> <li v-if="listItem.type==&quot;task&quot;" class=item :key=listInd :id=listItem._id v-drag-and-drop="" drop=handleDrop @click=selectNewItem(listItem,fatherId?fatherId+&quot;.&quot;+(listInd+1):listInd+1) :class="{&quot;active&quot;:selectItem==listItem,&quot;done&quot;:listItem.finish_time?true:false}" _v-0a8d4c56=""> <div class=itemWrap _v-0a8d4c56=""> <div class=left _v-0a8d4c56=""> <check-box class=checkboxs :is-check=listItem.finish_time @click=checkChange(listItem,fatherId?fatherId+&quot;.&quot;+(listInd+1):listInd+1) _v-0a8d4c56=""></check-box> <div v-if=!islabel style=visibility:hidden _v-0a8d4c56="">{{fatherId}}</div> <div v-if=!islabel class=inds _v-0a8d4c56=""> {{fatherId?fatherId+"."+(listInd+1):listInd+1}} </div> <div class=open v-if=listItem.children @click=openThis(listItem) _v-0a8d4c56="">{{listItem.isOpen?\'-\':\'+\'}}</div> <div class=title _v-0a8d4c56=""> <input type=text v-model=listItem.task_name @focus=savePreTitle(listItem.task_name) @blur=titleChange(listItem,fatherId?fatherId+&quot;.&quot;+(listInd+1):listInd+1) _v-0a8d4c56=""> </div> </div> <div class=right _v-0a8d4c56=""> <div class=time v-show=" !listItem.finish_time &amp;&amp; listItem.deadline " :class="{&quot;over&quot;: listItem.deadline < new Date().getTime()}" _v-0a8d4c56=""> {{listItem.deadline|totime}} </div> <div class=time v-show=" !listItem.finish_time &amp;&amp; !listItem.deadline " :class="{&quot;over&quot;: listItem.deadline < new Date().getTime()}" _v-0a8d4c56=""> &nbsp; </div> <div class=time v-show=listItem.finish_time _v-0a8d4c56=""> &nbsp; </div> <div class=urgency :class="{&quot;wary&quot;:listItem.priority==2,&quot;warning&quot;:listItem.priority==3,&quot;error&quot;:listItem.priority==4}" _v-0a8d4c56="">★</div> <div class=charge _v-0a8d4c56=""> <charge :members=members :list-item=listItem :mainid=mainid _v-0a8d4c56=""></charge> </div> </div> </div> </li> <menu v-if=listItem.children&amp;&amp;listItem.isOpen :task=listItem.children :members=members :father-id=fatherId?fatherId+&quot;.&quot;+(listInd+1):listInd+1 :select-item=selectItem :islabel=islabel :mainid=mainid _v-0a8d4c56=""></menu> </template> '},156:function(t,e){t.exports=' <div class=taskListWrap _v-20fa9339=""> <ol class=itemGroup type=1 _v-20fa9339=""> <li v-if="!task||task.length==0" class=none _v-20fa9339="">点击添加按钮，开始添加第一个项目</li> <menu :task=task :members=members :select-item=selectItem :islabel=islabel :mainid=mainid _v-20fa9339=""></menu> </ol> </div> '},157:function(t,e){t.exports=' <div _v-5bcbcf19=""> <input type=checkbox class=isCheck :checked=isCheck _v-5bcbcf19=""> </div> '},158:function(t,e){t.exports=' <div class=task-select v-clickoutside=changeOff _v-7044922c=""> <div class=showName @click=dropdownShow v-el:showname="" _v-7044922c="">{{listItem.nickname||\'请选择\'}}</div> <div class=dropdown v-show=searchListShow v-el:drop="" _v-7044922c=""> <div class=search _v-7044922c=""> <input type=text placeholder=搜索..... v-model=searchValue _v-7044922c=""> </div> <div class=searchList _v-7044922c=""> <div class=list-item-group _v-7044922c=""> <div class="list-item clearFix" v-for="(index,item) in showItems" :key=index @click=selectThis(item) _v-7044922c=""> <label _v-7044922c=""> <div class=nickname _v-7044922c="">{{item.nickname}}</div> <div class=mobile _v-7044922c="">{{item.mobile}}</div> </label> </div> <div class="list-item clearFix" v-if=!members _v-7044922c=""> <label _v-7044922c=""> <div _v-7044922c="">暂时没有负责人</div> </label> </div> </div> </div> </div> </div> '},159:function(t,e,i){var a,n,s={};a=i(73),n=i(153),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(r.template=n),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},161:function(t,e,i){var a,n,s={};i(152),a=i(75),n=i(158),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(r.template=n),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},162:function(t,e,i){var a,n,s={};i(151),a=i(76),n=i(157),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(r.template=n),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},163:function(t,e,i){var a,n,s={};i(149),a=i(77),n=i(155),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(r.template=n),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})},164:function(t,e,i){var a,n,s={};i(150),a=i(78),n=i(156),t.exports=a||{},t.exports.__esModule&&(t.exports=t.exports.default);var r="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;n&&(r.template=n),r.computed||(r.computed={}),Object.keys(s).forEach(function(t){var e=s[t];r.computed[t]=function(){return e}})}});
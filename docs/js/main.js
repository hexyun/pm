webpackJsonp([3],[function(t,e,i){var n,s,a;!function(o,r){s=[i(8),i(54),i(173),i(86)],n=r,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(t,e,n,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var o=a(t),r=a(e),l=a(n),c=a(s);o.default.use(r.default),o.default.use(c.default),o.default.config.debug=!0;var d=new r.default;d.map({"/taskList":{component:function(t){i.e(2,function(e){var i=[e(174)];t.apply(null,i)}.bind(this))}},"/taskListTwo":{component:function(t){i.e(1,function(e){var i=[e(175)];t.apply(null,i)}.bind(this))}}}),d.beforeEach(function(){window.scrollTo(0,0)}),d.afterEach(function(t){}),d.redirect({"*":"/taskListTwo"}),d.start(l.default,"#app")})},,,,,,,,,,,,,,,function(t,e,i){var n,s,a;!function(o,r){s=[e,i(8)],n=r,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(i),a=new s.default;e.default=a,t.exports=e.default})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n,s,a,s,a;!function(o,r){s=[t,e,i(26)],n=r,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var o=n(i);!function(){var i={};i.install=function(t){t.directive("drag-and-drop",{params:["drag-and-drop","drag-start","drag","drag-over","drag-enter","drag-leave","drag-end","drop","draggable","droppable"],bind:function(){this.vm._dragSrcEl=null,void 0===this.params.draggable&&(this.params.draggable=!0),void 0===this.params.droppable&&(this.params.droppable=!0);var t={true:!0,false:!1},e=t[this.params.draggable],i=t[this.params.droppable],n=function(){};this.handleDragStart=function(t){t.target.classList.add("dragging"),this.vm._dragSrcEl=t.target,t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("text","*"),"function"==typeof this.vm[this.params.dragStart]&&this.vm[this.params.dragStart].call(this,t.target,t)}.bind(this),this.handleDragOver=function(t){return t.preventDefault&&t.preventDefault(),t.dataTransfer.dropEffect="move",t.target.classList.add("drag-over"),"function"==typeof this.vm[this.params.dragOver]&&this.vm[this.params.dragOver].call(this,t.target,t),!1}.bind(this),this.handleDragEnter=function(t){"function"==typeof this.vm[this.params.dragEnter]&&this.vm[this.params.dragEnter].call(this,t.target,t),t.target.classList.add("drag-enter")}.bind(this),this.handleDragLeave=function(t){"function"==typeof this.vm[this.params.dragLeave]&&this.vm[this.params.dragLeave].call(this,t.target,t),t.target.classList.remove("drag-enter")}.bind(this),this.handleDrag=function(t){"function"==typeof this.vm[this.params.drag]&&this.vm[this.params.drag].call(this,t.target,t)}.bind(this),this.handleDragEnd=function(t){t.target.classList.remove("dragging","drag-over","drag-enter"),"function"==typeof this.vm[this.params.dragEnd]&&this.vm[this.params.dragEnd].call(this,t.target,t)}.bind(this),this.handleDrop=function(t){if(t.preventDefault(),t.stopPropagation&&t.stopPropagation(),this.vm._dragSrcEl!=t.target&&"function"==typeof this.vm[this.params.drop]){var i=t.target.draggable||e?t.target:t.target.parentElement;this.vm[this.params.drop].call(this,this.vm._dragSrcEl,i,t)}return!1}.bind(this),e||(this.handleDragStart=n,this.handleDragEnter=n,this.handleDrag=n,this.handleDragLeave=n,this.handleDragEnd=n),i||(this.handleDrop=n),e&&this.el.setAttribute("draggable","true"),this.el.addEventListener("dragstart",this.handleDragStart,!1),this.el.addEventListener("dragenter",this.handleDragEnter,!1),this.el.addEventListener("dragover",this.handleDragOver,!1),this.el.addEventListener("drag",this.handleDrag,!1),this.el.addEventListener("dragleave",this.handleDragLeave,!1),this.el.addEventListener("dragend",this.handleDragEnd,!1),this.el.addEventListener("drop",this.handleDrop,!1)},update:function(t,e){},unbind:function(){this.el.classList.remove("dragging","drag-over","drag-enter"),this.el.removeAttribute("draggable"),this.el.removeEventListener("dragstart",this.handleDragStart),this.el.removeEventListener("dragenter",this.handleDragEnter),this.el.removeEventListener("dragover",this.handleDragOver),this.el.removeEventListener("dragleave",this.handleDragLeave),this.el.removeEventListener("drag",this.handleDrag)}})},"object"==("undefined"==typeof e?"undefined":(0,o.default)(e))?t.exports=i:(s=[],a=function(){return i}.apply(e,s),!(void 0!==a&&(t.exports=a)))}()})},,function(t,e,i){var n,s,a;!function(i,o){s=[e],n=o,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={bind:function(){var t=this,e=(new Date).getTime();this.documentHandler=function(i){return!t.el.contains(i.target)&&void(t.expression&&(new Date).getTime()-e>200&&(t.vm[t.expression](),e=Date.now()))},document.addEventListener("click",this.documentHandler)},update:function(){},unbind:function(){document.removeEventListener("click",this.documentHandler)}},t.exports=e.default})},,,,,,,,,,,,,,,,,,,,,function(t,e,i){var n,s,a;!function(i,o){s=[e],n=o,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{}},ready:function(){},beforeDestroy:function(){},methods:{}},t.exports=e.default})},,,function(t,e,i){var n,s,a;!function(o,r){s=[e,i(15)],n=r,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(i);e.default={name:"charge",props:{members:{},mainid:{}},data:function(){return{showItems:[],searchValue:""}},ready:function(){this.showItems=this.members},methods:{selectThis:function(t){this.searchValue="",s.default.$emit("charge-change_"+this.mainid,t)}},watch:{searchValue:function(){if(this.members){for(var t=[],e=0;e<this.members.length;e++)this.members[e].nickname.indexOf(this.searchValue)===-1&&(this.members[e].mobile+"").indexOf(this.searchValue)===-1||t.push(this.members[e]);this.showItems=t}},members:function(){this.showItems=this.members}}},t.exports=e.default})},function(t,e,i){var n,s,a;!function(o,r){s=[e,i(8),i(15),i(55)],n=r,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(e,i,n,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var o=a(i),r=a(n),l=a(s);e.default={name:"charge",props:{members:{},listItem:{},mainid:{}},directives:{clickoutside:l.default},data:function(){return{nickNameList:[],memberSelected:"",showItems:[],searchValue:"",searchListShow:!1,selectedItem:this.listItem}},ready:function(){this.showItems=this.members},computed:{nickname:function(){var t=this.selectedItem,e=this.members.find(function(e){return t.leader_uid===e.user_id});return e?e.nickname:""}},methods:{changeOff:function(){this.searchListShow=!1,this.$els.drop.display="none"},dropdownShow:function(){this.searchListShow=!0;var t=0,e=0,i=this.$els.drop;i.style.display="block";var n=this.$els.showname,s=n.getBoundingClientRect().top,a=n.getBoundingClientRect().left,o=n.clientHeight,r=i.clientHeight,l=i.clientWidth;window.innerHeight?t=window.innerHeight:document.body&&document.body.clientHeight&&(t=document.body.clientHeight),window.innerWidth?e=window.innerWidth:document.body&&document.body.clientWidth&&(e=document.body.clientWidth),t-s-o<r&&s-30>r?i.style.top=s-r+"px":i.style.top=s+o+"px",e-a<l?i.style.left=e-l-18+"px":a<l?i.style.left="10px":i.style.left=a+"px"},selectThis:function(t){console.log("ssss",t),o.default.set(t,"leader_uid",t.user_id),this.selectedItem=t,this.changeOff(),r.default.$emit("charge-change_"+this.mainid,this.listItem,t)}},watch:{searchValue:function(){if(this.members){for(var t=[],e=0;e<this.members.length;e++)this.members[e].nickname.indexOf(this.searchValue)===-1&&(this.members[e].mobile+"").indexOf(this.searchValue)===-1||t.push(this.members[e]);this.showItems=t}},searchListShow:function(){this.searchValue=""},members:function(){this.showItems=this.members}}},t.exports=e.default})},function(t,e,i){var n,s,a;!function(i,o){s=[e],n=o,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"checkBox",props:["isCheck"]},t.exports=e.default})},function(t,e,i){var n,s,a;!function(o,r){s=[e,i(8),i(15),i(178),i(177),i(53)],n=r,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(e,i,n,s,a,o){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var l=r(i),c=r(n),d=r(s),u=r(a),h=r(o);l.default.use(h.default),e.default={name:"menu",components:{checkBox:d.default,charge:u.default},props:{task:{},members:{},selectItem:{},fatherId:{},islabel:{},mainid:{},isol:{},isTitleChange:{}},data:function(){return{preTitle:""}},computed:{tasks:function(){function t(e){for(var i=0;i<e.length;i++)e[i].children&&!e[i].isOpen&&(l.default.set(e[i],"isOpen",!1),t(e[i].children))}return t(this.task),this.task}},methods:{checkChange:function(t){c.default.$emit("check-change_"+this.mainid,t)},selectNewItem:function(t,e){c.default.$emit("select-item_"+this.mainid,t,e+"")},titleChange:function(t,e){t.task_name!==this.preTitle&&c.default.$emit("title-change_"+this.mainid,t,t.task_name,e)},handleDrop:function(t,e){this.loggedEvent="handleDrop",c.default.$emit("drag-change_"+this.mainid,t.id,e.id)},savePreTitle:function(t){this.preTitle=t},openThis:function(t){t.isOpen=!t.isOpen}},watch:{},filters:{totime:function(t){var e,i,n,s,a,o;return e=t-(new Date).getTime(),e>=0?(i=Math.floor(e/1e3/60/60/24),n=Math.floor(e/1e3/60/60%24),s=Math.floor(e/1e3/60%60),a=Math.floor(e/1e3%60),o=i+"天"+n+"小时"):(i=Math.ceil(e/1e3/60/60/24),n=Math.ceil(e/1e3/60/60%24),s=Math.ceil(e/1e3/60%60),a=Math.ceil(e/1e3%60),o="超期"+-i+"天"+-n+"小时"),o}}},t.exports=e.default})},function(t,e,i){var n,s,a;!function(o,r){s=[e,i(25),i(26),i(8),i(15),i(176),i(85),i(53),i(55),i(163)],n=r,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(e,i,n,s,a,o,r,l,c,d){"use strict";function u(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var h=u(i),f=u(n),m=u(s),p=u(a),v=u(o),g=u(r),_=u(l),b=u(c);m.default.use(_.default),e.default={name:"taskListTwo",components:{chargeTwo:v.default},directives:{clickoutside:b.default},props:{task:{},timeStamp:{},members:{},selectItem:{},islabel:{},mainid:{},isol:{},isTitleChange:{},listId:{}},data:function(){return{visibleData:[],itemsHeight:30,onoff:!0,searchListShow:!1,selectXY:{left:0,top:0},preTitle:"",mergedData:[],mergedDataCopy:[],dataType:"",halfTask:0,start:0,end:10}},filters:{totime:function(t){var e,i,n,s,a,o;return e=t-(new Date).getTime(),e>=0?(i=Math.floor(e/1e3/60/60/24),n=Math.floor(e/1e3/60/60%24),s=Math.floor(e/1e3/60%60),a=Math.floor(e/1e3%60),o=i+"天"+n+"小时"):(i=Math.ceil(e/1e3/60/60/24),n=Math.ceil(e/1e3/60/60%24),s=Math.ceil(e/1e3/60%60),a=Math.ceil(e/1e3%60),o="超期 "+-i+"天"+-n+"小时"),o},toNickName:function(t){var e=this.members.find(function(e){return!(!e.user_id||e.user_id!=t)});return e?e.nickname:"请选择"}},computed:{contentHeight:function(){return this.onoff&&(this.updateVisibleData(),this.onoff=!1),this.mergedData.length*this.itemsHeight}},watch:{task:function(){console.log("tasklistv2task更改成功"),this.mergeData(),this.$emit("loaded-change_"+this.mainid)}},methods:{deepCopy:function(t){var e=Array.isArray(t)?[]:{};for(var i in t)t.hasOwnProperty(i)&&("object"===(0,f.default)(t[i])&&null!==t[i]?e[i]=this.deepCopy(t[i]):e[i]=t[i]);return e},taskListSortControl:function(t,e){this.mergedData=this.taskListSort(this.mergedDataCopy,t,e),this.$els.tasklisttwo.scrollTo(0,1),this.updateVisibleData()},taskListSort:function(t,e,i){this.islabel=!1,this.isol=!1;var n=[];if(this.dataType=e,"done"==i){var s=[];t.forEach(function(t,e){t.finish_time&&s.push(t)}),t=s}else if("undone"==i){var a=[];t.forEach(function(t,e){t.finish_time||a.push(t)}),t=a}switch(e){case"create_uid":n=this.sortData(t,"create_uid"),n=this.sortDataNickName(n,"create_uid","创建人以移除");break;case"complete_uid":n=this.sortData(t,"complete_uid"),n=this.sortDataNickName(n,"complete_uid","没有完成人的任务");break;case"leader_uid":n=this.sortData(t,"leader_uid"),n=this.sortDataNickName(n,"leader_uid","没有负责人的任务");break;case"create_time":n=this.sortData(t,"create_time"),n=this.sortDataTime(n,"create_time","没有创建日期的任务");break;case"deadline":n=this.sortData(t,"deadline"),n=this.sortDataTime(n,"deadline","没有截止日期的任务");break;case"finish_time":n=this.sortData(t,"finish_time"),n=this.sortDataTime(n,"finish_time","没有完成日期的任务");break;case"status":var s=[{type:"label",text:"完成的任务",num:""}],a=[{type:"label",text:"未完成的任务",num:""}];t.forEach(function(t,e){t.finish_time?s.push(t):a.push(t)}),s[0].num="（"+(s.length-1)+"）个",a[0].num="（"+(a.length-1)+"）个",a.length>1?n=n.concat(a):null,s.length>1?n=n.concat(s):null;break;case"priority":var o=[{type:"label",text:"优先级:普通",num:"",priority:1}],r=[{type:"label",text:"优先级:重要",num:"",priority:2}],l=[{type:"label",text:"优先级:紧急",num:"",priority:3}],c=[{type:"label",text:"优先级:重要紧急",num:"",priority:4}];t.forEach(function(t,e){switch(t.priority){case 1:o.push(t);break;case 2:r.push(t);break;case 3:l.push(t);break;default:c.push(t)}}),o[0].num="（"+(o.length-1)+"）个",r[0].num="（"+(r.length-1)+"）个",l[0].num="（"+(l.length-1)+"）个",c[0].num="（"+(c.length-1)+"）个",c.length>1?n=n.concat(c):null,l.length>1?n=n.concat(l):null,r.length>1?n=n.concat(r):null,o.length>1?n=n.concat(o):null;break;default:this.islabel=!0,this.isol=!0;for(var d=function t(e,i,s,a){var o=e.filter(function(t){return t[i]&&s._id?t[i]+""==s._id+"":t[i]===s._id});return o.length?(s.hasChildren=!0,s.isOpen=!0,o.map(function(s,o){s.positionInd=a+"."+(o+1),n.push(s),t(e,i,s,s.positionInd)})):s.hasChildren=!1,n},u=[],h=0;h<t.length;h++)t[h].father_id||u.push(t[h]);for(var f=0;f<u.length;f++)u[f].positionInd=f+1,n.push(u[f]),d(t,"father_id",u[f],f+1);for(var m=0;m<n.length;m++)n[m].ind=m+1}return this.updateVisibleData(),n},sortData:function(t,e){var i="none";"create_time"!=e&&"deadline"!=e&&"finish_time"!=e||(i=!1);for(var n=0;n<t.length;n++){t[n][e]||(t[n][e]=i);for(var s=n+1;s<t.length;s++){t[s][e]||(t[s][e]=i);var a={};t[n][e]<t[s][e]&&(a=t[s],t[s]=t[n],t[n]=a)}}return t},sortDataNickName:function(t,e,i){var n=this,s={},a=[];return t.forEach(function(t){var i=n.members.find(function(i){return i.user_id==t[e]});i?m.default.set(t,"nickname",i.nickname):m.default.set(t,"nickname","none"),s[t.nickname]?s[t.nickname].push(t):m.default.set(s,t.nickname,[t])}),(0,h.default)(s).forEach(function(t){var e=t;"none"!=e&&0!=e||(e=i);var n=[{type:"label",text:e,num:"（"+s[t].length+"）个"}];a=a.concat(n),a=a.concat(s[t])}),a},sortDataTime:function(t,e,i){var n=this,s=[],a=[];return t.forEach(function(t){t[e]?m.default.set(t,"time",n.sortToTime(t[e])):m.default.set(t,"time","none"),a[t.time]?a[t.time].push(t):m.default.set(a,t.time,[t])}),(0,h.default)(a).forEach(function(t){var e=t;"none"!=e&&0!=e||(e=i);var n=[{type:"label",text:e,num:"（"+a[t].length+"）个"}];s=s.concat(n),s=s.concat(a[t])}),s},sortToTime:function(t){return new Date(t).toJSON().substr(0,10)},mergeData:function(){var t=this.task,e=[];if(this.timeStamp){console.log("tasklistv2数据合并"),e=g.default.get("hex_"+this.listId);for(var i=function(i){s=e.filter(function(n,s){return t[i]._id==n._id&&(t[i].removed>0?e.splice(s,1):e.splice(s,1,t[i]),!0)}),s&&s.length||e.forEach(function(n,s){n._id==t[i].father_id&&e.insert(s+1,t[i])})},n=0;n<t.length;n++){var s;i(n)}this.mergedData=e}else console.log("tasklistv2数据覆盖"),this.mergedData=t;this.mergedData=this.taskListSort(this.mergedData),this.mergedDataCopy=this.deepCopy(this.mergedData),console.log("tasklistv2数据合并覆盖成功"),this.setMemory()},setMemory:function(){g.default.set("hex_"+this.listId,this.mergedData),console.log("tasklistv2存入缓存"),g.default.set("hex_"+this.listId,this.mergedData)||console.log("tasklistv2缓存已经满了，请重新加载");var t=g.default.get("taskSlist");if(t){if(t.indexOf(this.listId)==-1)if(t.length<5)t.push(this.listId),g.default.set("taskSlist",t),console.log("tasklistv2更新缓存字典成功");else{var e=t[0];t.push(this.listId),t.shift(),g.default.remove("hex_"+e),g.default.set("taskSlist",t),console.log("tasklistv2替换缓存字典成功")}}else g.default.set("taskSlist",[this.listId]),console.log("tasklistv2创建缓存字典成功")},changeGetItem:function(t,e,i){var n=0,s=this.mergedData.filter(function(s,a){if(s._id==t)return i&&m.default.set(s,e,i),n=a,!0});return 1!==s.length&&console.log("tasklistv2一共找到了"+s.length+"条相同id的数据，请确认数据是否正确"),s&&1==s.length?[s[0],n,this.mergedData]:void 0},addTask:function(t){var e=this;this.changeGetItem(t._id)?console.log("tasklistv2重复id"):(this.mergedData.push(t),this.mergedData=this.taskListSort(this.mergedData),this.selectThis(t),m.default.nextTick(function(){e.changeGetItem(t._id)[1]>=e.start&&e.changeGetItem(t._id)[1]<e.end?e.updateVisibleData():e.scrollTo(t._id)}))},delTask:function(t){var e=this,i=t,n="",s={},a=this;if(i||(i=this.selectItem._id),this.changeGetItem(i)){n=this.changeGetItem(i)[0].father_id||void 0;var o=this.mergedData.filter(function(t,e){return t.father_id==n});o.length>1?o.filter(function(t,e){t._id==i&&(s=0==e?o[1]:o[e-1])}):this.changeGetItem(n)?s=this.changeGetItem(n)[0]:(s={},console.log("tasklistv2没有找到同级或者父级任务"))}this.mergedData.filter(function(t,n){t._id==i&&(e.mergedData.splice(n,1),e.mergedData=e.taskListSort(e.mergedData))}),this.selectThis(s),a.mergedData.length?a.changeGetItem(s._id)&&a.changeGetItem(s._id)[1]>=a.start&&a.changeGetItem(s._id)[1]<a.end?a.updateVisibleData():a.scrollTo(s._id):a.$els.tasklisttwo.scrollBy(0,1)},filterValue:function(t){var e=this.mergedData.filter(function(e){if(e.task_name.indexOf(t)!==-1)return!0});return e},handleScroll:function(){var t=event.target.scrollTop;this.updateVisibleData(t)},updateVisibleData:function(t){t=t||this.$els.tasklisttwo.scrollTop;var e=Math.ceil(this.$els.tasklisttwo.offsetHeight/this.itemsHeight);this.halfTask=Math.floor(this.$els.tasklisttwo.offsetHeight/this.itemsHeight/2),this.start=Math.floor(t/this.itemsHeight),this.end=this.start+e,this.visibleData=this.mergedData.slice(this.start,this.end),this.$els.content.style.webkitTransform="translateY("+this.start*this.itemsHeight+"px)"},selectId:function(t){var e=this.changeGetItem(t);e&&this.selectThis(e[0])},scrollTo:function(t){var e=this.changeGetItem(t);if(e){var i=0;i=e[1]-this.halfTask<0?0:e[1]-this.halfTask,this.$els.tasklisttwo.scrollTo(0,i*this.itemsHeight)}},selectThis:function(t){var e=this;this.selectItem=t,this.$emit("select-item_"+e.mainid,this.mergedData,t)},changeDone:function(t){var e=this;t.finish_time?m.default.set(t,"finish_time",null):m.default.set(t,"finish_time",(new Date).getTime()),this.$emit("check-change_"+e.mainid,this.mergedData,t)},savePreTitle:function(t){this.preTitle=t},changeTitle:function(t){var e=this;t.task_name!==this.preTitle&&this.$emit("title-change_"+e.mainid,this.mergedData,t)},changeLeader:function(t){var e=event.path[0],i=this.$els.dropdown;i.style.visibility="visible",i.style.display="block",this.searchListShow=!0;var n=e.getBoundingClientRect().top,s=e.getBoundingClientRect().left,a=e.offsetWidth,o=e.offsetHeight,r=i.offsetWidth,l=i.offsetHeight,c=document.documentElement.clientWidth,d=document.documentElement.clientHeight,u=0,h=0;u=s+a/2-r/2,h=n+o+10,u<0?u=0:null,h<0?h=0:null,u>c-r?u=c-r:null,h>d-l?h=d-l:null,m.default.set(this.selectXY,"left",u+"px"),m.default.set(this.selectXY,"top",h+"px")},changeOff:function(){event.path[0].className.indexOf("leader")==-1&&(this.searchListShow=!1)}},created:function(){},ready:function(){var t=this;m.default.nextTick(function(){t.mergeData(),t.updateVisibleData(),t.$emit("loaded-change_"+t.mainid)}),p.default.$on("charge-change_"+t.mainid,function(e){m.default.set(t.selectItem,"leader_uid",e.user_id),t.searchListShow=!1,t.$emit("charge-change_"+t.mainid,t.selectItem,e)})}},t.exports=e.default})},function(t,e,i){var n,s,a;!function(o,r){s=[e,i(15),i(179)],n=r,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(e,i,n){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=s(i),o=s(n);e.default={name:"taskList",components:{menu:o.default},props:{task:{},selectItem:{},members:{},selectId:{},islabel:{default:!1},mainid:{},isol:{},isTitleChange:{}},methods:{},ready:function(){var t=this;a.default.$on("select-item_"+t.mainid,function(e,i){t.$emit("select-item_"+t.mainid,t.task,e,i)}),a.default.$on("check-change_"+t.mainid,function(e){t.$emit("check-change_"+t.mainid,t.task,e)}),a.default.$on("title-change_"+t.mainid,function(e,i,n){t.$emit("title-change_"+t.mainid,t.task,e,i)}),a.default.$on("charge-change_"+t.mainid,function(e,i){t.$emit("charge-change_"+t.mainid,t.task,e,i)}),a.default.$on("drag-change_"+t.mainid,function(e,i){t.$emit("drag-change_"+t.mainid,t.task,e,i)})}},t.exports=e.default})},function(t,e,i){var n,s,a;!function(o,r){s=[t,i(32)],n=r,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(t,e){"use strict";function i(t){return t&&t.__esModule?t:{default:t}}function n(t){var e=!1;if(t)if(t.code)switch(t.code){case 22:e=!0;break;case 1014:"NS_ERROR_DOM_QUOTA_REACHED"===t.name&&(e=!0)}else t.number===-2147024882&&(e=!0);return e}var s=i(e);t.exports={get:function(t){var e=window.localStorage.getItem(t);return JSON.parse(e)},set:function(t,e){try{return window.localStorage.setItem(t,(0,s.default)(e)),!0}catch(t){if(n(t))return!1}},remove:function(t){var e=window.localStorage.getItem(t);return window.localStorage.removeItem(t),e},clear:function(){window.localStorage.clear()}}})},function(t,e,i){var n,s,a;!function(o,r){s=[t,i(87),i(25),i(181),i(180)],n=r,a="function"==typeof n?n.apply(e,s):n,!(void 0!==a&&(t.exports=a))}(this,function(t,e,i,n,s){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}var o=a(e),r=a(i),l=a(n),c=a(s),d={taskList:l.default,taskListTwo:c.default},u=function(t){(0,r.default)(d).forEach(function(e){t.component(d[e].name||e,d[e])})};"undefined"!=typeof window&&window.Vue&&u(window.Vue),t.exports=(0,o.default)(d,{install:u}),Array.prototype.insert=function(t,e){this.splice(t,0,e)}})},function(t,e,i){t.exports={default:i(98),__esModule:!0}},,,,,,,,,,,function(t,e,i){i(136),t.exports=i(1).Object.assign},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";var n=i(5),s=i(21),a=i(41),o=i(29),r=i(24),l=i(38),c=Object.assign;t.exports=!c||i(12)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=c({},t)[i]||Object.keys(c({},e)).join("")!=n})?function(t,e){for(var i=r(t),c=arguments.length,d=1,u=a.f,h=o.f;c>d;)for(var f,m=l(arguments[d++]),p=u?s(m).concat(u(m)):s(m),v=p.length,g=0;v>g;)f=p[g++],n&&!h.call(m,f)||(i[f]=m[f]);return i}:c},,,,,,,,,function(t,e,i){var n=i(3);n(n.S+n.F,"Object",{assign:i(127)})},,,,,,,,,,,,,,,,,,,function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(t){if(d===setTimeout)return setTimeout(t,0);if((d===i||!d)&&setTimeout)return d=setTimeout,setTimeout(t,0);try{return d(t,0)}catch(e){try{return d.call(null,t,0)}catch(e){return d.call(this,t,0)}}}function a(t){if(u===clearTimeout)return clearTimeout(t);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(t);try{return u(t)}catch(e){try{return u.call(null,t)}catch(e){return u.call(this,t)}}}function o(){p&&f&&(p=!1,f.length?m=f.concat(m):v=-1,m.length&&r())}function r(){if(!p){var t=s(o);p=!0;for(var e=m.length;e;){for(f=m,m=[];++v<e;)f&&f[v].run();v=-1,e=m.length}f=null,p=!1,a(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var d,u,h=t.exports={};!function(){try{d="function"==typeof setTimeout?setTimeout:i}catch(t){d=i}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(t){u=n}}();var f,m=[],p=!1,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];m.push(new l(t,e)),1!==m.length||p||s(r)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,i){(function(t,e){!function(t,i){"use strict";function n(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),i=0;i<e.length;i++)e[i]=arguments[i+1];var n={callback:t,args:e};return p[m]=n,f(m),m++}function s(t){delete p[t]}function a(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(i,n)}}function o(t){if(v)setTimeout(o,0,t);else{var e=p[t];if(e){v=!0;try{a(e)}finally{s(t),v=!1}}}}function r(){f=function(t){e.nextTick(function(){o(t)})}}function l(){if(t.postMessage&&!t.importScripts){var e=!0,i=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=i,e}}function c(){var e="setImmediate$"+Math.random()+"$",i=function(i){i.source===t&&"string"==typeof i.data&&0===i.data.indexOf(e)&&o(+i.data.slice(e.length))};t.addEventListener?t.addEventListener("message",i,!1):t.attachEvent("onmessage",i),f=function(i){t.postMessage(e+i,"*")}}function d(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;o(e)},f=function(e){t.port2.postMessage(e)}}function u(){var t=g.documentElement;f=function(e){var i=g.createElement("script");i.onreadystatechange=function(){o(e),i.onreadystatechange=null,t.removeChild(i),i=null},t.appendChild(i)}}function h(){f=function(t){setTimeout(o,0,t)}}if(!t.setImmediate){var f,m=1,p={},v=!1,g=t.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(t);_=_&&_.setTimeout?_:t,"[object process]"==={}.toString.call(t.process)?r():l()?c():t.MessageChannel?d():g&&"onreadystatechange"in g.createElement("script")?u():h(),_.setImmediate=n,_.clearImmediate=s}}("undefined"==typeof self?"undefined"==typeof t?this:t:self)}).call(e,function(){return this}(),i(161))},function(t,e,i){(function(t){function n(t,e){this._id=t,this._clearFn=e}var s="undefined"!=typeof t&&t||"undefined"!=typeof self&&self||window,a=Function.prototype.apply;e.setTimeout=function(){return new n(a.call(setTimeout,s,arguments),clearTimeout)},e.setInterval=function(){return new n(a.call(setInterval,s,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(s,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},i(162),e.setImmediate="undefined"!=typeof self&&self.setImmediate||"undefined"!=typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!=typeof self&&self.clearImmediate||"undefined"!=typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,function(){return this}())},function(t,e){t.exports=" <div> <router-view></router-view> </div> "},,,function(t,e){t.exports=' <div class=task-list-two v-el:tasklisttwo="" @scroll=handleScroll _v-005cc1a2=""> <div :style="{height: contentHeight + \'px\'}" _v-005cc1a2=""> <ul class=task-list-two-wrap v-el:content="" _v-005cc1a2=""> <li v-for="(index , listItem) in visibleData" track-by=$index class=list-item :class="{\'done\':listItem.finish_time,\'selected\':selectItem._id==listItem._id&amp;&amp;listItem.type!==\'label\'}" :key=index @click=selectThis(listItem) _v-005cc1a2=""> <div v-if="listItem.type==\'label\'" class=label _v-005cc1a2=""> <div _v-005cc1a2="">{{listItem.text}}</div> <div v-if=listItem.priority class=priority :class="{\'wary\':listItem.priority==2,\'warning\':listItem.priority ==3,\'error\':listItem.priority==4}" _v-005cc1a2="">★</div> <div _v-005cc1a2="">{{listItem.num}}</div> </div> <template v-if="listItem.type!==\'label\'"> <div class=itemIndex v-if=isol _v-005cc1a2="">{{listItem.ind}}</div> <div class=checkbox @click=changeDone(listItem) _v-005cc1a2=""></div> <div class=rank v-if=islabel :style="{\'text-indent\':listItem.positionInd.length?listItem.positionInd.split(\'.\').length*0.8+\'rem\':\'.5rem\'}" _v-005cc1a2="">{{listItem.positionInd}}</div> <div class=title _v-005cc1a2=""> <input type=text v-model=listItem.task_name :readonly=!isTitleChange @focus=savePreTitle(listItem.task_name) @blur=changeTitle(listItem) _v-005cc1a2=""> </div> <div class=right _v-005cc1a2=""> <div class=time v-if="!listItem.finish_time &amp;&amp; listItem.deadline" :class="{\'over\':listItem.deadline<new Date().getTime()}" _v-005cc1a2="">{{listItem.deadline|totime}}</div> <div class=priority :class="{\'wary\':listItem.priority==2,\'warning\':listItem.priority ==3,\'error\':listItem.priority==4}" _v-005cc1a2="">★</div> <div class=leader @click=changeLeader(listItem) _v-005cc1a2="">{{listItem.leader_uid|toNickName}}</div> </div> </template> </li> </ul> <charge-two v-el:dropdown="" v-show=searchListShow class=dropDown :style=selectXY :members=members :mainid=mainid v-clickoutside=changeOff _v-005cc1a2=""></charge-two> </div> </div> '},function(t,e){t.exports=' <template v-for="(listInd,listItem) in tasks"> <div v-if="listItem.type==&quot;label1&quot;" class=label1 _v-0a8d4c56="">{{listItem.text}}</div> <div v-if="listItem.type==&quot;label2&quot;" class=label2 _v-0a8d4c56="">{{listItem.text}}</div> <div v-if="listItem.type==&quot;label3&quot;" class=label3 _v-0a8d4c56="">{{listItem.text}}</div> <li v-if="listItem.type==&quot;task&quot;" class=item :key=listInd :id=listItem._id v-drag-and-drop="" drop=handleDrop @click=selectNewItem(listItem,fatherId?fatherId+&quot;.&quot;+(listInd+1):listInd+1) :class="{&quot;active&quot;:selectItem==listItem,&quot;done&quot;:listItem.finish_time?true:false,&quot;ulList&quot;:!isol}" _v-0a8d4c56=""> <div class=itemWrap _v-0a8d4c56=""> <div class=left _v-0a8d4c56=""> <check-box class=checkboxs :is-check=listItem.finish_time @click=checkChange(listItem,fatherId?fatherId+&quot;.&quot;+(listInd+1):listInd+1) _v-0a8d4c56=""></check-box> <div v-if=islabel style=visibility:hidden _v-0a8d4c56="">{{fatherId}}</div> <div v-if=islabel class=inds _v-0a8d4c56=""> {{fatherId?fatherId+"."+(listInd+1):listInd+1}} </div> <div class=open v-if="listItem.children&amp;&amp;listItem.children.length>0" @click=openThis(listItem) _v-0a8d4c56="">{{listItem.isOpen?\'-\':\'+\'}}</div> <div class=title _v-0a8d4c56=""> <div v-if=!isTitleChange _v-0a8d4c56="">{{listItem.task_name}}</div> <input type=text v-if=isTitleChange v-model=listItem.task_name @focus=savePreTitle(listItem.task_name) @blur=titleChange(listItem,fatherId?fatherId+&quot;.&quot;+(listInd+1):listInd+1) _v-0a8d4c56=""> </div> </div> <div class=right _v-0a8d4c56=""> <div class=time v-show=" !listItem.finish_time &amp;&amp; listItem.deadline " :class="{&quot;over&quot;: listItem.deadline < new Date().getTime()}" _v-0a8d4c56=""> {{listItem.deadline|totime}} </div> <div class=time v-show=" !listItem.finish_time &amp;&amp; !listItem.deadline " :class="{&quot;over&quot;: listItem.deadline < new Date().getTime()}" _v-0a8d4c56=""> &nbsp; </div> <div class=time v-show=listItem.finish_time _v-0a8d4c56=""> &nbsp; </div> <div class=urgency :class="{&quot;wary&quot;:listItem.priority==2,&quot;warning&quot;:listItem.priority==3,&quot;error&quot;:listItem.priority==4}" _v-0a8d4c56="">★</div> <div class=charge _v-0a8d4c56=""> <charge :members=members :list-item=listItem :mainid=mainid _v-0a8d4c56=""></charge> </div> </div> </div> </li> <menu v-if="listItem.children&amp;&amp;listItem.children.length>0&amp;&amp;listItem.isOpen" :task=listItem.children :members=members :father-id=fatherId?fatherId+&quot;.&quot;+(listInd+1):listInd+1 :select-item=selectItem :islabel=islabel :mainid=mainid :isol=isol :is-title-change=isTitleChange _v-0a8d4c56=""></menu> </template> ';
},function(t,e){t.exports=' <div class=taskListWrap _v-20fa9339=""> <ol class=itemGroup type=1 _v-20fa9339=""> <li v-if="!task||task.length==0" class=none _v-20fa9339="">点击添加按钮，开始添加第一个项目</li> <menu :task=task :members=members :select-item=selectItem :islabel=islabel :mainid=mainid :isol=isol :is-title-change=isTitleChange _v-20fa9339=""></menu> </ol> </div> '},function(t,e){t.exports=' <div class=task-select _v-4b6fdc44=""> <div class=dropdown _v-4b6fdc44=""> <div class=search _v-4b6fdc44=""> <input type=text placeholder=搜索..... v-model=searchValue _v-4b6fdc44=""> </div> <div class=searchList _v-4b6fdc44=""> <div class=list-item-group _v-4b6fdc44=""> <div class="list-item clearFix" v-for="(index,item) in showItems" :key=index @click=selectThis(item) _v-4b6fdc44=""> <label _v-4b6fdc44=""> <div class=nickname _v-4b6fdc44="">{{item.nickname}}</div> <div class=mobile _v-4b6fdc44="">{{item.mobile}}</div> </label> </div> <div class="list-item clearFix" v-if=!members _v-4b6fdc44=""> <label _v-4b6fdc44=""> <div _v-4b6fdc44="">暂时没有负责人</div> </label> </div> </div> </div> </div> </div> '},function(t,e){t.exports=' <div _v-5bcbcf19=""> <input type=checkbox class=isCheck :checked=isCheck _v-5bcbcf19=""> </div> '},function(t,e){t.exports=' <div class=task-select v-clickoutside=changeOff _v-7044922c=""> <div class=showName @click=dropdownShow v-el:showname="" _v-7044922c="">{{ nickname ||\'请选择\'}}</div> <div class=dropdown v-show=searchListShow v-el:drop="" _v-7044922c=""> <div class=search _v-7044922c=""> <input type=text placeholder=搜索..... v-model=searchValue _v-7044922c=""> </div> <div class=searchList _v-7044922c=""> <div class=list-item-group _v-7044922c=""> <div class="list-item clearFix" v-for="(index,item) in showItems" :key=index @click=selectThis(item) _v-7044922c=""> <label _v-7044922c=""> <div class=nickname _v-7044922c="">{{item.nickname }}</div> <div class=mobile _v-7044922c="">{{item.mobile}}</div> </label> </div> <div class="list-item clearFix" v-if=!members _v-7044922c=""> <label _v-7044922c=""> <div _v-7044922c="">暂时没有负责人</div> </label> </div> </div> </div> </div> </div> '},function(t,e,i){var n,s,a={};n=i(76),s=i(164),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var o="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;s&&(o.template=s),o.computed||(o.computed={}),Object.keys(a).forEach(function(t){var e=a[t];o.computed[t]=function(){return e}})},,,function(t,e,i){var n,s,a={};i(158),n=i(79),s=i(170),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var o="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;s&&(o.template=s),o.computed||(o.computed={}),Object.keys(a).forEach(function(t){var e=a[t];o.computed[t]=function(){return e}})},function(t,e,i){var n,s,a={};i(160),n=i(80),s=i(172),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var o="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;s&&(o.template=s),o.computed||(o.computed={}),Object.keys(a).forEach(function(t){var e=a[t];o.computed[t]=function(){return e}})},function(t,e,i){var n,s,a={};i(159),n=i(81),s=i(171),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var o="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;s&&(o.template=s),o.computed||(o.computed={}),Object.keys(a).forEach(function(t){var e=a[t];o.computed[t]=function(){return e}})},function(t,e,i){var n,s,a={};i(156),n=i(82),s=i(168),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var o="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;s&&(o.template=s),o.computed||(o.computed={}),Object.keys(a).forEach(function(t){var e=a[t];o.computed[t]=function(){return e}})},function(t,e,i){var n,s,a={};i(155),n=i(83),s=i(167),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var o="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;s&&(o.template=s),o.computed||(o.computed={}),Object.keys(a).forEach(function(t){var e=a[t];o.computed[t]=function(){return e}})},function(t,e,i){var n,s,a={};i(157),n=i(84),s=i(169),t.exports=n||{},t.exports.__esModule&&(t.exports=t.exports.default);var o="function"==typeof t.exports?t.exports.options||(t.exports.options={}):t.exports;s&&(o.template=s),o.computed||(o.computed={}),Object.keys(a).forEach(function(t){var e=a[t];o.computed[t]=function(){return e}})}]);